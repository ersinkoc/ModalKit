'use strict';var I={defaultOpen:false,closeOnOverlayClick:true,closeOnEscape:true,preventScroll:true,scrollBehavior:"inside",trapFocus:true,autoFocus:true,restoreFocus:true,stackable:true,closeOnStackedOpen:false,animated:false,animationDuration:200,disablePortal:false,role:"dialog"};function le(e){return e?{...I,...e}:{...I}}function se(){let e=new Map;function t(n,i){return e.has(n)||e.set(n,new Set),e.get(n).add(i),()=>c(n,i)}function c(n,i){let r=e.get(n);r&&(r.delete(i),r.size===0&&e.delete(n));}function o(n,...i){let r=e.get(n);r&&r.forEach(a=>{try{a(...i);}catch(v){console.error(`Error in event handler for "${String(n)}":`,v);}});}function p(){e.clear();}return {on:t,off:c,emit:o,clear:p}}function ce(){let e=new Set;function t(p){return e.add(p),()=>{e.delete(p);}}function c(p){e.forEach(n=>{try{n(p);}catch(i){console.error("Error in subscriber:",i);}});}function o(){e.clear();}return {subscribe:t,notify:c,clear:o}}function de(e=false){return {open:e,animationState:e?"entered":"idle",stackOrder:0,isTopMost:false,mounted:e}}function ue(e){let t={...e},{subscribe:c,notify:o}=ce();function p(){return {...t}}function n(i){let r=t;t={...t,...i},Ve(r,t)&&o(t);}return {getState:p,setState:n,subscribe:c}}function Ve(e,t){return e.open!==t.open||e.animationState!==t.animationState||e.stackOrder!==t.stackOrder||e.isTopMost!==t.isTopMost||e.mounted!==t.mounted}function fe(e,t){return e||t==="exiting"||t==="exited"}var ze=1e3,je=10;function oe(e){return ze+(e-1)*je}function Ue(){let e=[],t=se();function c(){e.forEach((d,f)=>{let O=f+1,M=f===e.length-1;d._setStackOrder(O),d._setIsTopMost(M);});}function o(d){e.indexOf(d)===-1&&(e.push(d),c(),t.emit("push",d),t.emit("change",[...e]));}function p(d){let f=e.indexOf(d);f!==-1&&(e.splice(f,1),c(),t.emit("pop",d),t.emit("change",[...e]));}function n(){return e.length}function i(){return e.length===0}function r(){return [...e]}function a(){return e[e.length-1]??null}function v(d){return e[d-1]??null}function y(){[...e].reverse().forEach(f=>f.close());}function m(){let d=a();d&&d.close();}function g(d,f){return t.on(d,f)}function E(d,f){t.off(d,f);}return {count:n,isEmpty:i,getAll:r,getTopMost:a,getByOrder:v,closeAll:y,closeTopMost:m,on:g,off:E,push:o,remove:p}}var ne=Ue(),X={push:ne.push,remove:ne.remove};var pe=["a[href]","area[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]',"audio[controls]","video[controls]","details > summary:first-of-type"].join(",");function Xe(e){if(e.offsetWidth===0&&e.offsetHeight===0&&e.getClientRects().length===0)return  false;let t=getComputedStyle(e);return !(t.visibility==="hidden"||t.display==="none")}function Ye(e){return !(!(e instanceof HTMLElement)||!e.matches(pe)||!Xe(e))}function Z(e){let t=e.querySelectorAll(pe);return Array.from(t).filter(Ye)}function V(e){return Z(e)[0]??null}function me(e){let t=Z(e);return t[t.length-1]??null}function G(e=document){let t=e.activeElement;for(;t?.shadowRoot?.activeElement;)t=t.shadowRoot.activeElement;return t}function P(e,t){if(!e)return  false;try{return e.focus(t),G()===e}catch{return  false}}var Y=null;function J(){let e=G();Y={element:e instanceof HTMLElement?e:null,scrollX:window.scrollX,scrollY:window.scrollY};}function Q(e=true){if(!Y)return;let{element:t,scrollX:c,scrollY:o}=Y;t&&document.body.contains(t)&&(P(t,{preventScroll:e}),e&&window.scrollTo(c,o)),Y=null;}function re(e){let{container:t,initialFocus:c,fallbackFocus:o,returnFocus:p,escapeDeactivates:n=true,clickOutsideDeactivates:i=false,allowOutsideClick:r=false,onActivate:a,onDeactivate:v}=e,y=false,m=false,g=false;function E(u){return u?typeof u=="function"?u():u:null}function d(u){if(!y||m||u.key!=="Tab")return;let x=Z(t);if(x.length===0)return;let C=x[0],k=x[x.length-1],w=G();u.shiftKey?(w===C||!t.contains(w))&&(u.preventDefault(),P(k)):(w===k||!t.contains(w))&&(u.preventDefault(),P(C));}function f(u){!y||m||u.key==="Escape"&&n&&(u.preventDefault(),l());}function O(u){if(!y||m)return;let x=u.target;t.contains(x)||((typeof r=="function"?r(u):r)||(u.preventDefault(),u.stopPropagation()),i&&l());}function M(u){if(!y||m||g)return;let x=u.target;if(!t.contains(x)){g=true,u.preventDefault();let C=V(t);C?P(C):t.focus(),setTimeout(()=>{g=false;},0);}}function S(){if(y)return;J(),y=true,m=false,document.addEventListener("keydown",d,true),document.addEventListener("keydown",f,true),document.addEventListener("click",O,true),document.addEventListener("focusin",M,true);let u=E(c),x=E(o),C=V(t),k=u??x??C??t;t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1"),P(k,{preventScroll:true}),a?.();}function l(){if(!y)return;y=false,m=false,document.removeEventListener("keydown",d,true),document.removeEventListener("keydown",f,true),document.removeEventListener("click",O,true),document.removeEventListener("focusin",M,true);let u=E(p);u?P(u,{preventScroll:true}):Q(true),v?.();}function b(){y&&(m=true);}function A(){y&&(m=false);}function $(){return y}function L(){return m}return {activate:S,deactivate:l,pause:b,unpause:A,isActive:$,isPaused:L}}function ye(e){return e?typeof e=="string"?document.querySelector(e):e:null}function ge(e){let t=document.createElement("div");return (t.id=e),t.setAttribute("data-modalkit-portal",""),t}function ve(e){e&&e.parentNode&&e.parentNode.removeChild(e);}function be(){let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let c=e.offsetWidth-t.offsetWidth;return ve(e),c}function Ee(e,t){return !e||!t?false:e===t||e.contains(t)}var B=0,z=null;function xe(){return typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)}function Ze(){return {x:window.pageXOffset??document.documentElement.scrollLeft,y:window.pageYOffset??document.documentElement.scrollTop}}var K=null;function Ge(){if(B++,B>1)return;let e=be(),t=window.innerWidth>document.documentElement.clientWidth;if(z={overflow:document.body.style.overflow,paddingRight:document.body.style.paddingRight},document.body.style.overflow="hidden",t&&e>0){let c=parseInt(getComputedStyle(document.body).paddingRight,10)||0;document.body.style.paddingRight=`${c+e}px`;}xe()&&(K=Ze(),document.body.style.position="fixed",document.body.style.top=`-${K.y}px`,document.body.style.left=`-${K.x}px`,document.body.style.width="100%");}function Je(){B!==0&&(B--,!(B>0)&&(z&&(document.body.style.overflow=z.overflow,document.body.style.paddingRight=z.paddingRight,z=null),xe()&&K&&(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",window.scrollTo(K.x,K.y),K=null)));}function Qe(){return B>0}var ee={lock:Ge,unlock:Je,isLocked:Qe};function Ce(e){let{duration:t,onStateChange:c,onAnimationStart:o,onAnimationEnd:p}=e,n="idle",i=null;function r(){i!==null&&(clearTimeout(i),i=null);}function a(f){n!==f&&(n=f,c?.(n));}function v(){r(),a("entering"),o?.("enter"),i=setTimeout(()=>{a("entered"),p?.("enter"),i=null;},t);}function y(){r(),a("exiting"),o?.("exit"),i=setTimeout(()=>{a("exited"),p?.("exit"),i=setTimeout(()=>{a("idle"),i=null;},0);},t);}function m(f){r(),f==="entered"?a("entered"):(a("exited"),i=setTimeout(()=>{a("idle"),i=null;},0));}function g(){return n}function E(){return n==="entering"||n==="exiting"}function d(){r(),n="idle";}return {startEnter:v,startExit:y,skipTo:m,getState:g,isAnimating:E,destroy:d}}function Te(){let e="idle";return {startEnter(){e="entered";},startExit(){e="idle";},skipTo(t){e=t==="entered"?"entered":"idle";},getState(){return e},isAnimating(){return  false},destroy(){e="idle";}}}function et(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27}function he(e){let{closeOnEscape:t,onEscapeKeyDown:c,onClose:o,isTopMost:p}=e;return function(i){p()&&et(i)&&(c?.(i),t&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation(),o()));}}var Me="modalkit-portal-root";function Se(e){if(e){let c=ye(e);if(c)return c}let t=document.getElementById(Me);return t||(t=ge(Me),document.body.appendChild(t)),t}var ke=0;function Oe(e="modalkit"){return ke++,`${e}-${ke}`}function Pe(e){return {modalId:e,titleId:`${e}-title`,descriptionId:`${e}-description`}}function ie(e){let t=le(e),c=t.id??Oe("modal"),o=Pe(c),p=t.open??t.defaultOpen??false,n=ue(de(p)),i=t.animated?Ce({duration:t.animationDuration??I.animationDuration,onStateChange:s=>{n.setState({animationState:s,mounted:fe(n.getState().open,s)});},onAnimationStart:t.onAnimationStart,onAnimationEnd:t.onAnimationEnd}):Te(),r=null,a=null,v=null,y=null,m=he({closeOnEscape:t.closeOnEscape??I.closeOnEscape,onEscapeKeyDown:t.onEscapeKeyDown,onClose:()=>u(),isTopMost:()=>n.getState().isTopMost});function g(s){return s?typeof s=="function"?s():s:null}function E(){!a||r||t.trapFocus&&(r=re({container:a,initialFocus:g(t.initialFocusRef),returnFocus:g(t.finalFocusRef),escapeDeactivates:false,clickOutsideDeactivates:false}));}function d(){r&&(r.deactivate(),r=null);}function f(){!r&&t.trapFocus&&a&&E(),r&&!r.isActive()&&r.activate();}function O(){n.getState().open||(t.restoreFocus&&J(),n.setState({open:true,mounted:true}),t.animated?i.startEnter():n.setState({animationState:"entered"}),X.push(U),t.preventScroll&&ee.lock(),t.onOpen?.(),t.onOpenChange?.(true));}function M(){if(n.getState().open){if(n.setState({open:false}),t.animated?i.startExit():n.setState({animationState:"idle",mounted:false}),X.remove(U),d(),t.preventScroll&&ee.unlock(),t.restoreFocus){let h=g(t.finalFocusRef);h?P(h):Q();}t.onClose?.(),t.onOpenChange?.(false);}}function S(s){let h=s.target;(h===v||h===y)&&(t.onOverlayClick?.(s),t.closeOnOverlayClick&&!s.defaultPrevented&&u());}function l(){return n.getState().open}function b(){return n.getState().mounted}function A(){return n.getState()}function $(s){return n.subscribe(s)}function L(){O();}function u(){M();}function x(){l()?u():L();}function C(){return n.getState().stackOrder}function k(){return n.getState().isTopMost}function w(){return i.isAnimating()}function T(){return n.getState().animationState}function ae(){if(!a)return;let s=V(a);s&&P(s);}function Le(){if(!a)return;let s=me(a);s&&P(s);}function we(s){return Ee(a,s)}function Fe(){return Se(t.portalTarget)}function De(){return {"data-modalkit-portal":"","data-state":T()}}function Ie(){let s=A(),h=oe(s.stackOrder);return {ref:D=>{v=D;},"data-modalkit-overlay":"","data-state":s.animationState,style:{position:"fixed",inset:"0",zIndex:h},onClick:S}}function Ke(){let s=A(),h=oe(s.stackOrder)+1,D=t.scrollBehavior??I.scrollBehavior;return {ref:te=>{y=te;},"data-modalkit-container":"","data-state":s.animationState,style:{position:"fixed",inset:"0",display:"flex",alignItems:"center",justifyContent:"center",zIndex:h,overflow:D==="inside"?"auto":"hidden"},onClick:S}}function He(){let s=A(),h={ref:D=>{let te=a===null;a=D,D&&te&&s.open&&(E(),t.autoFocus&&requestAnimationFrame(()=>{f();}));},role:t.role??I.role,"aria-modal":true,"data-modalkit-content":"","data-state":s.animationState,tabIndex:-1,onKeyDown:m};return t.ariaLabel?h["aria-label"]=t.ariaLabel:t.ariaLabelledBy?h["aria-labelledby"]=t.ariaLabelledBy:h["aria-labelledby"]=o.titleId,t.ariaDescribedBy?h["aria-describedby"]=t.ariaDescribedBy:h["aria-describedby"]=o.descriptionId,h}function Be(s){return {id:s??o.titleId,"data-modalkit-title":""}}function Re(s){return {id:s??o.descriptionId,"data-modalkit-description":""}}function Ne(){return {type:"button","aria-label":"Close","data-modalkit-close":"",onClick:()=>u()}}function _e(){return {type:"button","aria-haspopup":"dialog","aria-expanded":l(),"data-modalkit-trigger":"",onClick:()=>L()}}function qe(){return {...t}}function We(s){Object.assign(t,s);}function $e(){l()&&u(),d(),i.destroy(),a=null,v=null,y=null;}let U={isOpen:l,isMounted:b,getState:A,subscribe:$,open:L,close:u,toggle:x,getStackOrder:C,isTopMost:k,isAnimating:w,getAnimationState:T,focusFirst:ae,focusLast:Le,contains:we,getPortalTarget:Fe,getPortalProps:De,getOverlayProps:Ie,getContainerProps:Ke,getContentProps:He,getTitleProps:Be,getDescriptionProps:Re,getCloseButtonProps:Ne,getTriggerProps:_e,getConfig:qe,setConfig:We,destroy:$e,_id:c,_getTitleId:()=>o.titleId,_getDescriptionId:()=>o.descriptionId,_setStackOrder:s=>n.setState({stackOrder:s}),_setIsTopMost:s=>n.setState({isTopMost:s}),_getContentElement:()=>a,_handleOverlayClick:S,_handleKeyDown:m};return p&&X.push(U),U}function R(e){let t=document.createElement("div"),c=e.getPortalProps();t.setAttribute("data-modalkit-portal",c["data-modalkit-portal"]),t.setAttribute("data-state",c["data-state"]);let o=document.createElement("div"),p=e.getOverlayProps();o.setAttribute("data-modalkit-overlay",""),o.setAttribute("data-state",p["data-state"]),Object.assign(o.style,p.style),o.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.ref(o);let n=document.createElement("div"),i=e.getContainerProps();n.setAttribute("data-modalkit-container",""),n.setAttribute("data-state",i["data-state"]),Object.assign(n.style,i.style),i.ref(n);let r=document.createElement("div"),a=e.getContentProps();return r.setAttribute("role",a.role),r.setAttribute("aria-modal","true"),a["aria-labelledby"]&&r.setAttribute("aria-labelledby",a["aria-labelledby"]),a["aria-describedby"]&&r.setAttribute("aria-describedby",a["aria-describedby"]),r.setAttribute("data-modalkit-content",""),r.setAttribute("data-state",a["data-state"]),r.setAttribute("tabindex","-1"),r.style.backgroundColor="white",r.style.borderRadius="8px",r.style.padding="24px",r.style.maxWidth="400px",r.style.width="100%",r.style.boxShadow="0 25px 50px -12px rgba(0, 0, 0, 0.25)",a.ref(r),r.addEventListener("keydown",v=>{a.onKeyDown(v);}),n.appendChild(r),o.appendChild(n),t.appendChild(o),{portal:t,overlay:o,container:n,content:r}}function N(e){return ie({closeOnOverlayClick:false,closeOnEscape:true,trapFocus:true,preventScroll:true,role:"alertdialog",animated:false,...e})}function H(e,t="default"){switch(e.style.padding="8px 16px",e.style.borderRadius="6px",e.style.border="none",e.style.cursor="pointer",e.style.fontWeight="500",e.style.fontSize="14px",e.style.transition="background-color 0.2s",t){case "primary":e.style.backgroundColor="#3b82f6",e.style.color="white";break;case "danger":case "error":e.style.backgroundColor="#ef4444",e.style.color="white";break;case "warning":e.style.backgroundColor="#f59e0b",e.style.color="white";break;case "success":e.style.backgroundColor="#10b981",e.style.color="white";break;case "info":e.style.backgroundColor="#3b82f6",e.style.color="white";break;default:e.style.backgroundColor="#e5e7eb",e.style.color="#374151";}}function _(e,t){let c=t.getTitleProps(),o=document.createElement("h2");return o.id=c.id,o.setAttribute("data-modalkit-title",""),o.textContent=e,o.style.margin="0 0 8px 0",o.style.fontSize="18px",o.style.fontWeight="600",o.style.color="#111827",o}function q(e,t){let c=t.getDescriptionProps(),o=document.createElement("p");return o.id=c.id,o.setAttribute("data-modalkit-description",""),o.textContent=e,o.style.margin="0 0 24px 0",o.style.fontSize="14px",o.style.color="#6b7280",o.style.lineHeight="1.5",o}function W(){let e=document.createElement("div");return e.style.display="flex",e.style.justifyContent="flex-end",e.style.gap="8px",e}var j={confirmText:"Confirm",cancelText:"Cancel",variant:"default",closeOnOverlayClick:false,closeOnEscape:true};function tt(e){return new Promise(t=>{let c=typeof e=="string"?{message:e}:e,{title:o,message:p,confirmText:n=j.confirmText,cancelText:i=j.cancelText,variant:r=j.variant,closeOnOverlayClick:a=j.closeOnOverlayClick,closeOnEscape:v=j.closeOnEscape,buttons:y}=c,m=false,g=N({closeOnOverlayClick:a,closeOnEscape:v,onClose:()=>{m||(m=true,t(false)),S();}}),{portal:E,content:d}=R(g);o&&d.appendChild(_(o,g)),d.appendChild(q(p,g));let f=W(),O=y??[{text:i,value:false,variant:"default"},{text:n,value:true,variant:r==="default"?"primary":r,autoFocus:true}],M=null;O.forEach(l=>{let b=document.createElement("button");b.textContent=l.text,b.type="button",H(b,l.variant),b.addEventListener("click",()=>{m||(m=true,g.close(),t(l.value));}),l.autoFocus&&(M=b),f.appendChild(b);}),d.appendChild(f);function S(){g.destroy(),E.remove();}document.body.appendChild(E),g.open(),M&&requestAnimationFrame(()=>{M?.focus();});})}var Ae={confirmText:"OK",variant:"default"};function nt(e){switch(e){case "success":return "success";case "warning":return "warning";case "error":return "danger";case "info":return "info";default:return "primary"}}function ot(e){return new Promise(t=>{let c=typeof e=="string"?{message:e}:e,{title:o,message:p,confirmText:n=Ae.confirmText,variant:i=Ae.variant}=c,r=N({closeOnOverlayClick:false,closeOnEscape:true,onClose:()=>{t(),g();}}),{portal:a,content:v}=R(r);o&&v.appendChild(_(o,r)),v.appendChild(q(p,r));let y=W(),m=document.createElement("button");m.textContent=n,m.type="button",H(m,nt(i)),m.addEventListener("click",()=>{r.close();}),y.appendChild(m),v.appendChild(y);function g(){r.destroy(),a.remove();}document.body.appendChild(a),r.open(),requestAnimationFrame(()=>{m.focus();});})}var F={placeholder:"",defaultValue:"",confirmText:"OK",cancelText:"Cancel",type:"text",required:false,minLength:0,maxLength:1/0};function rt(e){return new Promise(t=>{let c=typeof e=="string"?{message:e}:e,{title:o,message:p,placeholder:n=F.placeholder,defaultValue:i=F.defaultValue,confirmText:r=F.confirmText,cancelText:a=F.cancelText,type:v=F.type,validate:y,required:m=F.required,minLength:g=F.minLength,maxLength:E=F.maxLength}=c,d=false,f=N({closeOnOverlayClick:false,closeOnEscape:true,onClose:()=>{d||(d=true,t(null)),w();}}),{portal:O,content:M}=R(f);o&&M.appendChild(_(o,f)),p&&M.appendChild(q(p,f));let S=document.createElement("div");S.style.marginBottom="16px";let l=document.createElement("input");l.type=v,l.value=i,n&&(l.placeholder=n),m&&(l.required=true),g>0&&(l.minLength=g),E<1/0&&(l.maxLength=E),l.style.width="100%",l.style.padding="8px 12px",l.style.border="1px solid #d1d5db",l.style.borderRadius="6px",l.style.fontSize="14px",l.style.outline="none",l.style.boxSizing="border-box",l.addEventListener("focus",()=>{l.style.borderColor="#3b82f6",l.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)";}),l.addEventListener("blur",()=>{l.style.borderColor="#d1d5db",l.style.boxShadow="none";});let b=document.createElement("p");b.style.color="#ef4444",b.style.fontSize="12px",b.style.marginTop="4px",b.style.marginBottom="0",b.style.display="none",S.appendChild(l),S.appendChild(b),M.appendChild(S);function A(){let T=l.value;return m&&!T.trim()?"This field is required":g>0&&T.length<g?`Minimum ${g} characters required`:E<1/0&&T.length>E?`Maximum ${E} characters allowed`:y?y(T):true}function $(T){b.textContent=T,b.style.display="block",l.style.borderColor="#ef4444";}function L(){b.style.display="none",l.style.borderColor="#d1d5db";}function u(){if(d)return;L();let T=A();if(T!==true){$(typeof T=="string"?T:"Invalid input"),l.focus();return}d=true,f.close(),t(l.value);}l.addEventListener("keydown",T=>{T.key==="Enter"&&(T.preventDefault(),u());}),l.addEventListener("input",L);let x=W(),C=document.createElement("button");C.textContent=a,C.type="button",H(C,"default"),C.addEventListener("click",()=>{d||(d=true,f.close(),t(null));});let k=document.createElement("button");k.textContent=r,k.type="button",H(k,"primary"),k.addEventListener("click",u),x.appendChild(C),x.appendChild(k),M.appendChild(x);function w(){f.destroy(),O.remove();}document.body.appendChild(O),f.open(),requestAnimationFrame(()=>{l.focus(),i&&l.select();});})}exports.alert=ot;exports.confirm=tt;exports.createFocusTrap=re;exports.createModal=ie;exports.modalStack=ne;exports.prompt=rt;exports.scrollLock=ee;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map