import {createContext,forwardRef,useContext,useState,useCallback,useMemo,useRef,useEffect,cloneElement,isValidElement}from'react';import {jsx,jsxs}from'react/jsx-runtime';import {createPortal}from'react-dom';var z={defaultOpen:false,closeOnOverlayClick:true,closeOnEscape:true,preventScroll:true,scrollBehavior:"inside",trapFocus:true,autoFocus:true,restoreFocus:true,stackable:true,closeOnStackedOpen:false,animated:false,animationDuration:200,disablePortal:false,role:"dialog"};function we(e){return e?{...z,...e}:{...z}}function Oe(){let e=new Map;function t(o,i){return e.has(o)||e.set(o,new Set),e.get(o).add(i),()=>r(o,i)}function r(o,i){let a=e.get(o);a&&(a.delete(i),a.size===0&&e.delete(o));}function n(o,...i){let a=e.get(o);a&&a.forEach(l=>{try{l(...i);}catch(d){console.error(`Error in event handler for "${String(o)}":`,d);}});}function s(){e.clear();}return {on:t,off:r,emit:n,clear:s}}function Ae(){let e=new Set;function t(s){return e.add(s),()=>{e.delete(s);}}function r(s){e.forEach(o=>{try{o(s);}catch(i){console.error("Error in subscriber:",i);}});}function n(){e.clear();}return {subscribe:t,notify:r,clear:n}}function De(e=false){return {open:e,animationState:e?"entered":"idle",stackOrder:0,isTopMost:false,mounted:e}}function Le(e){let t={...e},{subscribe:r,notify:n}=Ae();function s(){return {...t}}function o(i){let a=t;t={...t,...i},Et(a,t)&&n(t);}return {getState:s,setState:o,subscribe:r}}function Et(e,t){return e.open!==t.open||e.animationState!==t.animationState||e.stackOrder!==t.stackOrder||e.isTopMost!==t.isTopMost||e.mounted!==t.mounted}function Fe(e,t){return e||t==="exiting"||t==="exited"}var Pt=1e3,ht=10;function Se(e){return Pt+(e-1)*ht}function St(){let e=[],t=Oe();function r(){e.forEach((u,f)=>{let x=f+1,C=f===e.length-1;u._setStackOrder(x),u._setIsTopMost(C);});}function n(u){e.indexOf(u)===-1&&(e.push(u),r(),t.emit("push",u),t.emit("change",[...e]));}function s(u){let f=e.indexOf(u);f!==-1&&(e.splice(f,1),r(),t.emit("pop",u),t.emit("change",[...e]));}function o(){return e.length}function i(){return e.length===0}function a(){return [...e]}function l(){return e[e.length-1]??null}function d(u){return e[u-1]??null}function p(){[...e].reverse().forEach(f=>f.close());}function c(){let u=l();u&&u.close();}function y(u,f){return t.on(u,f)}function v(u,f){t.off(u,f);}return {count:o,isEmpty:i,getAll:a,getTopMost:l,getByOrder:d,closeAll:p,closeTopMost:c,on:y,off:v,push:n,remove:s}}var Ne=St(),ue={push:Ne.push,remove:Ne.remove};var Ie=["a[href]","area[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]',"audio[controls]","video[controls]","details > summary:first-of-type"].join(",");function Tt(e){if(e.offsetWidth===0&&e.offsetHeight===0&&e.getClientRects().length===0)return  false;let t=getComputedStyle(e);return !(t.visibility==="hidden"||t.display==="none")}function kt(e){return !(!(e instanceof HTMLElement)||!e.matches(Ie)||!Tt(e))}function me(e){let t=e.querySelectorAll(Ie);return Array.from(t).filter(kt)}function se(e){return me(e)[0]??null}function He(e){let t=me(e);return t[t.length-1]??null}function ge(e=document){let t=e.activeElement;for(;t?.shadowRoot?.activeElement;)t=t.shadowRoot.activeElement;return t}function D(e,t){if(!e)return  false;try{return e.focus(t),ge()===e}catch{return  false}}var fe=null;function ye(){let e=ge();fe={element:e instanceof HTMLElement?e:null,scrollX:window.scrollX,scrollY:window.scrollY};}function Ce(e=true){if(!fe)return;let{element:t,scrollX:r,scrollY:n}=fe;t&&document.body.contains(t)&&(D(t,{preventScroll:e}),e&&window.scrollTo(r,n)),fe=null;}function Be(e){let{container:t,initialFocus:r,fallbackFocus:n,returnFocus:s,escapeDeactivates:o=true,clickOutsideDeactivates:i=false,allowOutsideClick:a=false,onActivate:l,onDeactivate:d}=e,p=false,c=false;function y(M){return M?typeof M=="function"?M():M:null}function v(M){if(!p||c||M.key!=="Tab")return;let P=me(t);if(P.length===0)return;let R=P[0],h=P[P.length-1],O=ge();M.shiftKey?(O===R||!t.contains(O))&&(M.preventDefault(),D(h)):(O===h||!t.contains(O))&&(M.preventDefault(),D(R));}function u(M){!p||c||M.key==="Escape"&&o&&(M.preventDefault(),E());}function f(M){if(!p||c)return;let P=M.target;t.contains(P)||((typeof a=="function"?a(M):a)||(M.preventDefault(),M.stopPropagation()),i&&E());}function x(M){if(!p||c)return;let P=M.target;if(!t.contains(P)){M.preventDefault();let R=se(t);R?D(R):t.focus();}}function C(){if(p)return;ye(),p=true,c=false,document.addEventListener("keydown",v,true),document.addEventListener("keydown",u,true),document.addEventListener("click",f,true),document.addEventListener("focusin",x,true);let M=y(r),P=y(n),R=se(t),h=M??P??R??t;t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1"),D(h,{preventScroll:true}),l?.();}function E(){if(!p)return;p=false,c=false,document.removeEventListener("keydown",v,true),document.removeEventListener("keydown",u,true),document.removeEventListener("click",f,true),document.removeEventListener("focusin",x,true);let M=y(s);M?D(M,{preventScroll:true}):Ce(true),d?.();}function m(){p&&(c=true);}function b(){p&&(c=false);}function w(){return p}function K(){return c}return {activate:C,deactivate:E,pause:m,unpause:b,isActive:w,isPaused:K}}function Ke(e){return e?typeof e=="string"?document.querySelector(e):e:null}function Ve(e){let t=document.createElement("div");return (t.id=e),t.setAttribute("data-modalkit-portal",""),t}function ze(e){e&&e.parentNode&&e.parentNode.removeChild(e);}function _e(){let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let r=e.offsetWidth-t.offsetWidth;return ze(e),r}function We(e,t){return !e||!t?false:e===t||e.contains(t)}var ee=0,de=null;function qe(){return typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)}function Rt(){return {x:window.pageXOffset??document.documentElement.scrollLeft,y:window.pageYOffset??document.documentElement.scrollTop}}var _=null;function wt(){if(ee++,ee>1)return;let e=_e(),t=window.innerWidth>document.documentElement.clientWidth;if(de={overflow:document.body.style.overflow,paddingRight:document.body.style.paddingRight},document.body.style.overflow="hidden",t&&e>0){let r=parseInt(getComputedStyle(document.body).paddingRight,10)||0;document.body.style.paddingRight=`${r+e}px`;}qe()&&(_=Rt(),document.body.style.position="fixed",document.body.style.top=`-${_.y}px`,document.body.style.left=`-${_.x}px`,document.body.style.width="100%");}function Ot(){ee!==0&&(ee--,!(ee>0)&&(de&&(document.body.style.overflow=de.overflow,document.body.style.paddingRight=de.paddingRight,de=null),qe()&&_&&(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",window.scrollTo(_.x,_.y),_=null)));}function At(){return ee>0}var Te={lock:wt,unlock:Ot,isLocked:At};function $e(e){let{duration:t,onStateChange:r,onAnimationStart:n,onAnimationEnd:s}=e,o="idle",i=null;function a(){i!==null&&(clearTimeout(i),i=null);}function l(f){o!==f&&(o=f,r?.(o));}function d(){a(),l("entering"),n?.("enter"),i=setTimeout(()=>{l("entered"),s?.("enter"),i=null;},t);}function p(){a(),l("exiting"),n?.("exit"),i=setTimeout(()=>{l("exited"),s?.("exit"),i=setTimeout(()=>{l("idle"),i=null;},0);},t);}function c(f){a(),f==="entered"?l("entered"):(l("exited"),i=setTimeout(()=>{l("idle"),i=null;},0));}function y(){return o}function v(){return o==="entering"||o==="exiting"}function u(){a(),o="idle";}return {startEnter:d,startExit:p,skipTo:c,getState:y,isAnimating:v,destroy:u}}function Ue(){let e="idle";return {startEnter(){e="entered";},startExit(){e="idle";},skipTo(t){e=t==="entered"?"entered":"idle";},getState(){return e},isAnimating(){return  false},destroy(){e="idle";}}}function Dt(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27}function Xe(e){let{closeOnEscape:t,onEscapeKeyDown:r,onClose:n,isTopMost:s}=e;return function(i){s()&&Dt(i)&&(r?.(i),t&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation(),n()));}}var Ye="modalkit-portal-root";function Ze(e){if(e){let r=Ke(e);if(r)return r}let t=document.getElementById(Ye);return t||(t=Ve(Ye),document.body.appendChild(t)),t}var Ge=0;function Je(e="modalkit"){return Ge++,`${e}-${Ge}`}function Qe(e){return {modalId:e,titleId:`${e}-title`,descriptionId:`${e}-description`}}function I(e){let t=we(e),r=t.id??Je("modal"),n=Qe(r),s=t.open??t.defaultOpen??false,o=Le(De(s)),i=t.animated?$e({duration:t.animationDuration??z.animationDuration,onStateChange:g=>{o.setState({animationState:g,mounted:Fe(o.getState().open,g)});},onAnimationStart:t.onAnimationStart,onAnimationEnd:t.onAnimationEnd}):Ue(),a=null,l=null,d=null,p=null,c=Xe({closeOnEscape:t.closeOnEscape??z.closeOnEscape,onEscapeKeyDown:t.onEscapeKeyDown,onClose:()=>P(),isTopMost:()=>o.getState().isTopMost});function y(g){return g?typeof g=="function"?g():g:null}function v(){!l||a||t.trapFocus&&(a=Be({container:l,initialFocus:y(t.initialFocusRef),returnFocus:y(t.finalFocusRef),escapeDeactivates:false,clickOutsideDeactivates:false}));}function u(){a&&(a.deactivate(),a=null);}function f(){!a&&t.trapFocus&&l&&v(),a&&!a.isActive()&&a.activate();}function x(){o.getState().open||(t.restoreFocus&&ye(),o.setState({open:true,mounted:true}),t.animated?i.startEnter():o.setState({animationState:"entered"}),ue.push(pe),t.preventScroll&&Te.lock(),t.onOpen?.(),t.onOpenChange?.(true));}function C(){if(o.getState().open){if(o.setState({open:false}),t.animated?i.startExit():o.setState({animationState:"idle",mounted:false}),ue.remove(pe),u(),t.preventScroll&&Te.unlock(),t.restoreFocus){let k=y(t.finalFocusRef);k?D(k):Ce();}t.onClose?.(),t.onOpenChange?.(false);}}function E(g){let k=g.target;(k===d||k===p)&&(t.onOverlayClick?.(g),t.closeOnOverlayClick&&!g.defaultPrevented&&P());}function m(){return o.getState().open}function b(){return o.getState().mounted}function w(){return o.getState()}function K(g){return o.subscribe(g)}function M(){x();}function P(){C();}function R(){m()?P():M();}function h(){return o.getState().stackOrder}function O(){return o.getState().isTopMost}function Pe(){return i.isAnimating()}function T(){return o.getState().animationState}function Re(){if(!l)return;let g=se(l);g&&D(g);}function st(){if(!l)return;let g=He(l);g&&D(g);}function dt(g){return We(l,g)}function ct(){return Ze(t.portalTarget)}function pt(){return {"data-modalkit-portal":"","data-state":T()}}function ut(){let g=w(),k=Se(g.stackOrder);return {ref:V=>{d=V;},"data-modalkit-overlay":"","data-state":g.animationState,style:{position:"fixed",inset:"0",zIndex:k},onClick:E}}function ft(){let g=w(),k=Se(g.stackOrder)+1,V=t.scrollBehavior??z.scrollBehavior;return {ref:he=>{p=he;},"data-modalkit-container":"","data-state":g.animationState,style:{position:"fixed",inset:"0",display:"flex",alignItems:"center",justifyContent:"center",zIndex:k,overflow:V==="inside"?"auto":"hidden"},onClick:E}}function mt(){let g=w(),k={ref:V=>{let he=l===null;l=V,V&&he&&g.open&&(v(),t.autoFocus&&requestAnimationFrame(()=>{f();}));},role:t.role??z.role,"aria-modal":true,"data-modalkit-content":"","data-state":g.animationState,tabIndex:-1,onKeyDown:c};return t.ariaLabel?k["aria-label"]=t.ariaLabel:t.ariaLabelledBy?k["aria-labelledby"]=t.ariaLabelledBy:k["aria-labelledby"]=n.titleId,t.ariaDescribedBy?k["aria-describedby"]=t.ariaDescribedBy:k["aria-describedby"]=n.descriptionId,k}function gt(g){return {id:g??n.titleId,"data-modalkit-title":""}}function yt(g){return {id:g??n.descriptionId,"data-modalkit-description":""}}function Ct(){return {type:"button","aria-label":"Close","data-modalkit-close":"",onClick:()=>P()}}function Mt(){return {type:"button","aria-haspopup":"dialog","aria-expanded":m(),"data-modalkit-trigger":"",onClick:()=>M()}}function bt(){return {...t}}function vt(g){Object.assign(t,g);}function xt(){m()&&P(),u(),i.destroy(),l=null,d=null,p=null;}let pe={isOpen:m,isMounted:b,getState:w,subscribe:K,open:M,close:P,toggle:R,getStackOrder:h,isTopMost:O,isAnimating:Pe,getAnimationState:T,focusFirst:Re,focusLast:st,contains:dt,getPortalTarget:ct,getPortalProps:pt,getOverlayProps:ut,getContainerProps:ft,getContentProps:mt,getTitleProps:gt,getDescriptionProps:yt,getCloseButtonProps:Ct,getTriggerProps:Mt,getConfig:bt,setConfig:vt,destroy:xt,_id:r,_getTitleId:()=>n.titleId,_getDescriptionId:()=>n.descriptionId,_setStackOrder:g=>o.setState({stackOrder:g}),_setIsTopMost:g=>o.setState({isTopMost:g}),_getContentElement:()=>l,_handleOverlayClick:E,_handleKeyDown:c};return s&&ue.push(pe),pe}var tt=createContext(null);function It(){let e=useContext(tt);if(!e)throw new Error("useModalContext must be used within a ModalProvider");return e}var et=0;function Ht(){return et++,`managed-modal-${et}`}function Bt({children:e}){let[t]=useState(()=>new Map),[,r]=useState(0),n=useCallback(()=>{r(d=>d+1);},[]),s=useCallback(d=>{let p=d.id??Ht(),{content:c,title:y,size:v,...u}=d,f=I({...u,onClose:()=>{u.onClose?.(),t.delete(p),n();}});return t.set(p,{id:p,modal:f,content:c,config:u}),f.open(),n(),p},[t,n]),o=useCallback(d=>{let p=t.get(d);p&&p.modal.close();},[t]),i=useCallback(()=>{t.forEach(d=>{d.modal.close();});},[t]),a=useMemo(()=>({modals:t,openModal:s,closeModal:o,closeAll:i,_forceUpdate:n}),[t,s,o,i,n]),l=[];return t.forEach(d=>{let{id:p,modal:c,content:y}=d;if(!c.getState().mounted)return;let u=c.getPortalProps(),f=c.getOverlayProps(),x=c.getContainerProps(),C=c.getContentProps(),E=typeof y=="function"?y({close:()=>c.close()}):y;l.push(jsx("div",{"data-modalkit-portal":u["data-modalkit-portal"],"data-state":u["data-state"],children:jsx("div",{ref:f.ref,"data-modalkit-overlay":"","data-state":f["data-state"],style:{...f.style,backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:f.onClick,children:jsx("div",{ref:x.ref,"data-modalkit-container":"","data-state":x["data-state"],style:x.style,onClick:x.onClick,children:jsx("div",{ref:C.ref,role:C.role,"aria-modal":C["aria-modal"],"aria-labelledby":C["aria-labelledby"],"aria-describedby":C["aria-describedby"],"data-modalkit-content":"","data-state":C["data-state"],tabIndex:C.tabIndex,onKeyDown:C.onKeyDown,style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:E})})})},p));}),jsxs(tt.Provider,{value:a,children:[e,l]})}function _t(e){let t=useRef(null),r=useRef(e);t.current||(t.current=I(e));let[n,s]=useState(()=>t.current.getState());useEffect(()=>{r.current!==e&&e&&(r.current=e,t.current?.setConfig(e));},[e]),useEffect(()=>{e?.open!==void 0&&(e.open&&!t.current?.isOpen()?t.current?.open():!e.open&&t.current?.isOpen()&&t.current?.close());},[e?.open]),useEffect(()=>{let C=t.current;if(C)return C.subscribe(E=>{s(E);})},[]),useEffect(()=>()=>{t.current?.destroy();},[]);let o=useCallback(()=>t.current?.open(),[]),i=useCallback(()=>t.current?.close(),[]),a=useCallback(()=>t.current?.toggle(),[]),l=useCallback(()=>t.current?.focusFirst(),[]),d=useCallback(()=>t.current?.focusLast(),[]),p=useCallback(()=>t.current.getTriggerProps(),[]),c=useCallback(()=>t.current.getOverlayProps(),[]),y=useCallback(()=>t.current.getContainerProps(),[]),v=useCallback(()=>t.current.getContentProps(),[]),u=useCallback(C=>t.current.getTitleProps(C),[]),f=useCallback(C=>t.current.getDescriptionProps(C),[]),x=useCallback(()=>t.current.getCloseButtonProps(),[]);return useMemo(()=>({isOpen:n.open,animationState:n.animationState,stackOrder:n.stackOrder,isTopMost:n.isTopMost,open:o,close:i,toggle:a,focusFirst:l,focusLast:d,getTriggerProps:p,getOverlayProps:c,getContainerProps:y,getContentProps:v,getTitleProps:u,getDescriptionProps:f,getCloseButtonProps:x,modal:t.current}),[n,o,i,a,l,d,p,c,y,v,u,f,x])}function te(e){let t=document.createElement("div"),r=e.getPortalProps();t.setAttribute("data-modalkit-portal",r["data-modalkit-portal"]),t.setAttribute("data-state",r["data-state"]);let n=document.createElement("div"),s=e.getOverlayProps();n.setAttribute("data-modalkit-overlay",""),n.setAttribute("data-state",s["data-state"]),Object.assign(n.style,s.style),n.style.backgroundColor="rgba(0, 0, 0, 0.5)",s.ref(n);let o=document.createElement("div"),i=e.getContainerProps();o.setAttribute("data-modalkit-container",""),o.setAttribute("data-state",i["data-state"]),Object.assign(o.style,i.style),i.ref(o);let a=document.createElement("div"),l=e.getContentProps();return a.setAttribute("role",l.role),a.setAttribute("aria-modal","true"),l["aria-labelledby"]&&a.setAttribute("aria-labelledby",l["aria-labelledby"]),l["aria-describedby"]&&a.setAttribute("aria-describedby",l["aria-describedby"]),a.setAttribute("data-modalkit-content",""),a.setAttribute("data-state",l["data-state"]),a.setAttribute("tabindex","-1"),a.style.backgroundColor="white",a.style.borderRadius="8px",a.style.padding="24px",a.style.maxWidth="400px",a.style.width="100%",a.style.boxShadow="0 25px 50px -12px rgba(0, 0, 0, 0.25)",l.ref(a),a.addEventListener("keydown",d=>{l.onKeyDown(d);}),o.appendChild(a),n.appendChild(o),t.appendChild(n),{portal:t,overlay:n,container:o,content:a}}function oe(e){return I({closeOnOverlayClick:false,closeOnEscape:true,trapFocus:true,preventScroll:true,role:"alertdialog",animated:false,...e})}function W(e,t="default"){switch(e.style.padding="8px 16px",e.style.borderRadius="6px",e.style.border="none",e.style.cursor="pointer",e.style.fontWeight="500",e.style.fontSize="14px",e.style.transition="background-color 0.2s",t){case "primary":e.style.backgroundColor="#3b82f6",e.style.color="white";break;case "danger":case "error":e.style.backgroundColor="#ef4444",e.style.color="white";break;case "warning":e.style.backgroundColor="#f59e0b",e.style.color="white";break;case "success":e.style.backgroundColor="#10b981",e.style.color="white";break;case "info":e.style.backgroundColor="#3b82f6",e.style.color="white";break;default:e.style.backgroundColor="#e5e7eb",e.style.color="#374151";}}function ne(e,t){let r=t.getTitleProps(),n=document.createElement("h2");return n.id=r.id,n.setAttribute("data-modalkit-title",""),n.textContent=e,n.style.margin="0 0 8px 0",n.style.fontSize="18px",n.style.fontWeight="600",n.style.color="#111827",n}function re(e,t){let r=t.getDescriptionProps(),n=document.createElement("p");return n.id=r.id,n.setAttribute("data-modalkit-description",""),n.textContent=e,n.style.margin="0 0 24px 0",n.style.fontSize="14px",n.style.color="#6b7280",n.style.lineHeight="1.5",n}function ae(){let e=document.createElement("div");return e.style.display="flex",e.style.justifyContent="flex-end",e.style.gap="8px",e}var ce={confirmText:"Confirm",cancelText:"Cancel",variant:"default",closeOnOverlayClick:false,closeOnEscape:true};function H(e){return new Promise(t=>{let r=typeof e=="string"?{message:e}:e,{title:n,message:s,confirmText:o=ce.confirmText,cancelText:i=ce.cancelText,variant:a=ce.variant,closeOnOverlayClick:l=ce.closeOnOverlayClick,closeOnEscape:d=ce.closeOnEscape,buttons:p}=r,c=false,y=oe({closeOnOverlayClick:l,closeOnEscape:d,onClose:()=>{c||(c=true,t(false)),E();}}),{portal:v,content:u}=te(y);n&&u.appendChild(ne(n,y)),u.appendChild(re(s,y));let f=ae(),x=p??[{text:i,value:false,variant:"default"},{text:o,value:true,variant:a==="default"?"primary":a,autoFocus:true}],C=null;x.forEach(m=>{let b=document.createElement("button");b.textContent=m.text,b.type="button",W(b,m.variant),b.addEventListener("click",()=>{c=true,y.close(),t(m.value);}),m.autoFocus&&(C=b),f.appendChild(b);}),u.appendChild(f);function E(){y.destroy(),v.remove();}document.body.appendChild(v),y.open(),C&&requestAnimationFrame(()=>{C?.focus();});})}function qt(){return useCallback(e=>typeof e=="string"?H(e):"buttons"in e&&e.buttons?H(e):H(e),[])}var nt={confirmText:"OK",variant:"default"};function $t(e){switch(e){case "success":return "success";case "warning":return "warning";case "error":return "danger";case "info":return "info";default:return "primary"}}function ie(e){return new Promise(t=>{let r=typeof e=="string"?{message:e}:e,{title:n,message:s,confirmText:o=nt.confirmText,variant:i=nt.variant}=r,a=oe({closeOnOverlayClick:false,closeOnEscape:true,onClose:()=>{t(),y();}}),{portal:l,content:d}=te(a);n&&d.appendChild(ne(n,a)),d.appendChild(re(s,a));let p=ae(),c=document.createElement("button");c.textContent=o,c.type="button",W(c,$t(i)),c.addEventListener("click",()=>{a.close();}),p.appendChild(c),d.appendChild(p);function y(){a.destroy(),l.remove();}document.body.appendChild(l),a.open(),requestAnimationFrame(()=>{c.focus();});})}function Xt(){return useCallback(e=>typeof e=="string"?ie(e):ie(e),[])}var B={placeholder:"",defaultValue:"",confirmText:"OK",cancelText:"Cancel",type:"text",required:false,minLength:0,maxLength:1/0};function le(e){return new Promise(t=>{let r=typeof e=="string"?{message:e}:e,{title:n,message:s,placeholder:o=B.placeholder,defaultValue:i=B.defaultValue,confirmText:a=B.confirmText,cancelText:l=B.cancelText,type:d=B.type,validate:p,required:c=B.required,minLength:y=B.minLength,maxLength:v=B.maxLength}=r,u=false,f=oe({closeOnOverlayClick:false,closeOnEscape:true,onClose:()=>{u||(u=true,t(null)),Pe();}}),{portal:x,content:C}=te(f);n&&C.appendChild(ne(n,f)),s&&C.appendChild(re(s,f));let E=document.createElement("div");E.style.marginBottom="16px";let m=document.createElement("input");m.type=d,m.value=i,o&&(m.placeholder=o),c&&(m.required=true),y>0&&(m.minLength=y),v<1/0&&(m.maxLength=v),m.style.width="100%",m.style.padding="8px 12px",m.style.border="1px solid #d1d5db",m.style.borderRadius="6px",m.style.fontSize="14px",m.style.outline="none",m.style.boxSizing="border-box",m.addEventListener("focus",()=>{m.style.borderColor="#3b82f6",m.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)";}),m.addEventListener("blur",()=>{m.style.borderColor="#d1d5db",m.style.boxShadow="none";});let b=document.createElement("p");b.style.color="#ef4444",b.style.fontSize="12px",b.style.marginTop="4px",b.style.marginBottom="0",b.style.display="none",E.appendChild(m),E.appendChild(b),C.appendChild(E);function w(){let T=m.value;return c&&!T.trim()?"This field is required":y>0&&T.length<y?`Minimum ${y} characters required`:v<1/0&&T.length>v?`Maximum ${v} characters allowed`:p?p(T):true}function K(T){b.textContent=T,b.style.display="block",m.style.borderColor="#ef4444";}function M(){b.style.display="none",m.style.borderColor="#d1d5db";}function P(){M();let T=w();if(T!==true){K(typeof T=="string"?T:"Invalid input"),m.focus();return}u=true,f.close(),t(m.value);}m.addEventListener("keydown",T=>{T.key==="Enter"&&(T.preventDefault(),P());}),m.addEventListener("input",M);let R=ae(),h=document.createElement("button");h.textContent=l,h.type="button",W(h,"default"),h.addEventListener("click",()=>{u=true,f.close(),t(null);});let O=document.createElement("button");O.textContent=a,O.type="button",W(O,"primary"),O.addEventListener("click",P),R.appendChild(h),R.appendChild(O),C.appendChild(R);function Pe(){f.destroy(),x.remove();}document.body.appendChild(x),f.open(),requestAnimationFrame(()=>{m.focus(),i&&m.select();});})}function Zt(){return useCallback(e=>typeof e=="string"?le(e):le(e),[])}var rt=createContext(null);function S(){let e=useContext(rt);if(!e)throw new Error("Modal compound components must be used within a Modal component");return e}function q({open:e,defaultOpen:t=false,onOpenChange:r,children:n,...s}){let o=useRef(null);o.current||(o.current=I({...s,defaultOpen:e??t,onOpenChange:r}));let[i,a]=useState(()=>o.current.getState());useEffect(()=>{let d=o.current;d&&e!==void 0&&(e&&!d.isOpen()?d.open():!e&&d.isOpen()&&d.close());},[e]),useEffect(()=>{let d=o.current;if(d)return d.subscribe(p=>{a(p);})},[]),useEffect(()=>{o.current?.setConfig({...s,onOpenChange:r});},[s,r]),useEffect(()=>()=>{o.current?.destroy();},[]);let l=useMemo(()=>({modal:o.current,state:i}),[i]);return jsx(rt.Provider,{value:l,children:n})}function ro({asChild:e=false,children:t,className:r}){let{modal:n}=S(),s=n.getTriggerProps(),o=i=>{s.onClick(i);};return e&&isValidElement(t)?cloneElement(t,{...s,onClick:o,className:r?`${t.props.className||""} ${r}`.trim():t.props.className}):jsx("button",{type:s.type,"aria-haspopup":s["aria-haspopup"],"aria-expanded":s["aria-expanded"],"data-modalkit-trigger":"",onClick:o,className:r,children:t})}function $({container:e,children:t}){let{modal:r,state:n}=S();if(!n.mounted)return null;let s=e??r.getPortalTarget(),o=r.getPortalProps(),i=jsx("div",{"data-modalkit-portal":o["data-modalkit-portal"],"data-state":o["data-state"],children:t});return createPortal(i,s)}var U=forwardRef(function({children:t,className:r,style:n},s){let{modal:o}=S(),i=o.getOverlayProps(),a=l=>{i.onClick(l);};return jsx("div",{ref:l=>{i.ref(l),typeof s=="function"?s(l):s&&(s.current=l);},"data-modalkit-overlay":"","data-state":i["data-state"],onClick:a,className:r,style:{...i.style,backgroundColor:"rgba(0, 0, 0, 0.5)",...n},children:t})});var X=forwardRef(function({position:t="center",children:r,className:n,style:s},o){let{modal:i}=S(),a=i.getContainerProps(),l=c=>{a.onClick(c);},d=t==="top"?"flex-start":"center",p=t==="top"?"10vh":void 0;return jsx("div",{ref:c=>{a.ref(c),typeof o=="function"?o(c):o&&(o.current=c);},"data-modalkit-container":"","data-state":a["data-state"],onClick:l,className:n,style:{...a.style,alignItems:d,paddingTop:p,...s},children:r})});var mo={sm:"400px",md:"500px",lg:"600px",xl:"800px",full:"100%"},Y=forwardRef(function({size:t="md",role:r,"aria-label":n,children:s,className:o,style:i},a){let{modal:l}=S(),d=l.getContentProps(),p=c=>{d.onKeyDown(c);};return jsx("div",{ref:c=>{d.ref(c),typeof a=="function"?a(c):a&&(a.current=c);},role:r??d.role,"aria-modal":d["aria-modal"],"aria-label":n??d["aria-label"],"aria-labelledby":n?void 0:d["aria-labelledby"],"aria-describedby":d["aria-describedby"],"data-modalkit-content":"","data-state":d["data-state"],tabIndex:d.tabIndex,onKeyDown:p,className:o,style:{backgroundColor:"white",borderRadius:"8px",maxWidth:mo[t],width:t==="full"?"100vw":"100%",height:t==="full"?"100vh":"auto",maxHeight:t==="full"?"100vh":"90vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",...i},onClick:c=>c.stopPropagation(),children:s})});function Z({children:e,className:t,style:r}){return jsx("div",{className:t,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 24px",borderBottom:"1px solid #e5e7eb",...r},children:e})}function G({id:e,children:t,className:r,style:n}){let{modal:s}=S(),o=s.getTitleProps(e);return jsx("h2",{id:o.id,"data-modalkit-title":"",className:r,style:{margin:0,fontSize:"18px",fontWeight:600,color:"#111827",...n},children:t})}function J({id:e,children:t,className:r,style:n}){let{modal:s}=S(),o=s.getDescriptionProps(e);return jsx("p",{id:o.id,"data-modalkit-description":"",className:r,style:{margin:0,fontSize:"14px",color:"#6b7280",lineHeight:1.5,...n},children:t})}function Q({children:e,className:t,style:r}){return jsx("div",{className:t,style:{padding:"24px",...r},children:e})}function j({children:e,className:t,style:r}){return jsx("div",{className:t,style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px",padding:"16px 24px",borderTop:"1px solid #e5e7eb",...r},children:e})}function Po({asChild:e=false,"aria-label":t,children:r,className:n,style:s}){let{modal:o}=S(),i=o.getCloseButtonProps(),a=l=>{i.onClick(l);};return e&&isValidElement(r)?cloneElement(r,{...i,"aria-label":t??i["aria-label"],onClick:a,className:n?`${r.props.className||""} ${n}`.trim():r.props.className}):jsx("button",{type:i.type,"aria-label":t??i["aria-label"],"data-modalkit-close":"",onClick:a,className:n,style:{background:"none",border:"none",padding:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",borderRadius:"4px",...s},children:r??jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}var ho={default:{backgroundColor:"#3b82f6",color:"white"},danger:{backgroundColor:"#ef4444",color:"white"},warning:{backgroundColor:"#f59e0b",color:"white"}};function So({open:e,onOpenChange:t,title:r,description:n,confirmText:s="Confirm",cancelText:o="Cancel",variant:i="default",onConfirm:a,onCancel:l,className:d,style:p}){return jsx(q,{open:e,onOpenChange:t,closeOnOverlayClick:false,closeOnEscape:true,role:"alertdialog",children:jsx($,{children:jsx(U,{children:jsx(X,{children:jsxs(Y,{size:"sm",className:d,style:p,children:[r&&jsx(Z,{style:{borderBottom:"none",paddingBottom:0},children:jsx(G,{children:r})}),jsx(Q,{style:{paddingTop:r?"8px":void 0},children:jsx(J,{children:n})}),jsxs(j,{style:{borderTop:"none"},children:[jsx("button",{type:"button",onClick:()=>{l?.(),t(false);},style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px",backgroundColor:"#e5e7eb",color:"#374151"},children:o}),jsx("button",{type:"button",onClick:()=>{a(),t(false);},style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px",...ho[i]},children:s})]})]})})})})})}var To={default:{backgroundColor:"#3b82f6",color:"white"},success:{backgroundColor:"#10b981",color:"white"},warning:{backgroundColor:"#f59e0b",color:"white"},error:{backgroundColor:"#ef4444",color:"white"},info:{backgroundColor:"#3b82f6",color:"white"}};function ko({open:e,onOpenChange:t,title:r,description:n,confirmText:s="OK",variant:o="default",onConfirm:i,className:a,style:l}){return jsx(q,{open:e,onOpenChange:t,closeOnOverlayClick:false,closeOnEscape:true,role:"alertdialog",children:jsx($,{children:jsx(U,{children:jsx(X,{children:jsxs(Y,{size:"sm",className:a,style:l,children:[r&&jsx(Z,{style:{borderBottom:"none",paddingBottom:0},children:jsx(G,{children:r})}),jsx(Q,{style:{paddingTop:r?"8px":void 0},children:jsx(J,{children:n})}),jsx(j,{style:{borderTop:"none"},children:jsx("button",{type:"button",onClick:()=>{i(),t(false);},style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px",...To[o]},children:s})})]})})})})})}function Oo({open:e,onOpenChange:t,title:r,description:n,placeholder:s,defaultValue:o="",confirmText:i="OK",cancelText:a="Cancel",type:l="text",validate:d,required:p=false,minLength:c=0,maxLength:y,onConfirm:v,onCancel:u,className:f,style:x}){let[C,E]=useState(o),[m,b]=useState(null),w=useRef(null);useEffect(()=>{e&&(E(o),b(null));},[e,o]),useEffect(()=>{e&&w.current&&(w.current.focus(),o&&w.current.select());},[e,o]);let K=()=>{if(p&&!C.trim())return b("This field is required"),false;if(c>0&&C.length<c)return b(`Minimum ${c} characters required`),false;if(y&&C.length>y)return b(`Maximum ${y} characters allowed`),false;if(d){let h=d(C);if(h!==true)return b(typeof h=="string"?h:"Invalid input"),false}return  true},M=()=>{K()&&(v(C),t(false));};return jsx(q,{open:e,onOpenChange:t,closeOnOverlayClick:false,closeOnEscape:true,role:"alertdialog",children:jsx($,{children:jsx(U,{children:jsx(X,{children:jsxs(Y,{size:"sm",className:f,style:x,children:[r&&jsx(Z,{style:{borderBottom:"none",paddingBottom:0},children:jsx(G,{children:r})}),jsxs(Q,{style:{paddingTop:r?"8px":void 0},children:[n&&jsx(J,{style:{marginBottom:"16px"},children:n}),jsxs("div",{children:[jsx("input",{ref:w,type:l,value:C,onChange:h=>{E(h.target.value),b(null);},onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),M());},placeholder:s,required:p,minLength:c,maxLength:y,style:{width:"100%",padding:"8px 12px",border:`1px solid ${m?"#ef4444":"#d1d5db"}`,borderRadius:"6px",fontSize:"14px",outline:"none",boxSizing:"border-box"}}),m&&jsx("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",marginBottom:0},children:m})]})]}),jsxs(j,{style:{borderTop:"none"},children:[jsx("button",{type:"button",onClick:()=>{u?.(),t(false);},style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px",backgroundColor:"#e5e7eb",color:"#374151"},children:a}),jsx("button",{type:"button",onClick:M,style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px",backgroundColor:"#3b82f6",color:"white"},children:i})]})]})})})})})}function Ao(e){return typeof e=="string"?H(e):"buttons"in e&&e.buttons?H(e):H(e)}function Do(e){return typeof e=="string"?ie(e):ie(e)}function Lo(e){return typeof e=="string"?le(e):le(e)}var Fo={confirm:Ao,alert:Do,prompt:Lo};
export{ko as AlertDialog,So as ConfirmDialog,q as Modal,Q as ModalBody,Po as ModalClose,X as ModalContainer,Y as ModalContent,J as ModalDescription,j as ModalFooter,Z as ModalHeader,U as ModalOverlay,$ as ModalPortal,Bt as ModalProvider,G as ModalTitle,ro as ModalTrigger,Oo as PromptDialog,Fo as modals,Xt as useAlert,qt as useConfirm,_t as useModal,S as useModalComponentContext,It as useModalContext,Zt as usePrompt};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map